<!DOCTYPE html>
<html lang="ta">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">роЙроЩрпНроХро│рпН роОродро┐ро░рпНроХро╛ро▓родрпНродрпИ ро╡роЯро┐ро╡роорпИроХрпНроХро╡рпБроорпН - Pathfinder</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Noto+Sans+Tamil:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        /* --- 1. General Styling --- */
        body {
            font-family: 'Noto Sans Tamil', 'Montserrat', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f7f6; /* Light background */
            color: #333;
            line-height: 1.6;
            scroll-behavior: smooth;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* --- 2. Header & Hero Section --- */
        .hero-section {
            background: linear-gradient(135deg, #007bff, #00c6ff); /* Vibrant blue gradient */
            color: white;
            padding: 60px 20px;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .hero-section h1 {
            font-size: 2.5em;
            margin-bottom: 5px;
        }

        /* Language Selector */
        .lang-selector button {
            background-color: #ffc107; /* Yellow accent */
            border: none;
            padding: 8px 15px;
            margin: 5px;
            cursor: pointer;
            border-radius: 5px;
            font-weight: bold;
            transition: background-color 0.3s, transform 0.2s;
        }

        .lang-selector button:hover {
            background-color: #e0a800;
            transform: scale(1.05);
        }

        /* --- 3. Motivation Card --- */
        .motivation-card {
            background-color: #28a745; /* Inspiring Green */
            color: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        /* --- 4. Quiz Section & Cards --- */
        .quiz-section {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.05);
            margin-bottom: 30px;
        }

        .quiz-section h2 {
            color: #007bff;
            border-bottom: 2px solid #007bff;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }

        .question-card {
            background-color: #f8f9fa;
            padding: 15px;
            border-left: 5px solid #ffc107; /* Yellow marker */
            margin-bottom: 15px;
            border-radius: 5px;
        }

        .question-card label {
            display: block;
            cursor: pointer;
            padding: 5px 0;
        }

        /* Interactive Buttons */
        #submit-btn {
            background-color: #dc3545; /* Red/Maroon for action */
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 1.1em;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 15px;
            transition: background-color 0.3s;
        }

        #submit-btn:hover {
            background-color: #c82333;
        }

        /* --- 5. Results Section --- */
        .results-section {
            margin-top: 40px;
        }

        .stream-result {
            font-size: 1.5em;
            font-weight: bold;
            color: #007bff;
            margin-top: 10px;
            padding: 15px;
            background-color: #e9ecef;
            border-radius: 5px;
            text-align: center;
        }

        .admissions-card, .scholarship-card {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
            border-top: 5px solid #17a2b8; /* Cyan for info */
        }

        .admissions-card a, .scholarship-card a {
            display: inline-block;
            background-color: #17a2b8;
            color: white;
            padding: 8px 15px;
            text-decoration: none;
            border-radius: 5px;
            margin-top: 10px;
            transition: background-color 0.3s;
        }
        
        .admissions-card a:hover, .scholarship-card a:hover {
            background-color: #117a8b;
        }

        #resource-links {
            list-style: none;
            padding: 0;
        }
        #resource-links li {
            background-color: #e8f5e9; /* Very light green */
            margin-bottom: 10px;
            padding: 10px;
            border-radius: 5px;
        }
        #resource-links li a {
            color: #28a745;
            text-decoration: none;
            font-weight: bold;
        }
        
        /* --- 6. Floating Chatbot Dialogue Box --- */
        #chatbot-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background-color: #ff6f00; /* Orange/Motivational Color */
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            transition: background-color 0.3s, transform 0.2s;
        }
        
        #chatbot-toggle:hover {
            background-color: #e65100;
            transform: scale(1.1);
        }

        #chatbot-box {
            position: fixed;
            bottom: 90px;
            right: 20px;
            width: 350px;
            height: 450px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            display: none; /* Hidden by default */
            flex-direction: column;
            z-index: 1000;
            overflow: hidden;
            border: 2px solid #ff6f00;
        }

        #chatbot-header {
            background-color: #ff6f00;
            color: white;
            padding: 10px;
            text-align: center;
            font-weight: bold;
        }

        #chatbot-messages {
            flex-grow: 1;
            padding: 10px;
            overflow-y: auto;
            background-color: #f0f4f7;
        }

        .message {
            margin-bottom: 10px;
            padding: 8px 12px;
            border-radius: 15px;
            max-width: 80%;
            line-height: 1.4;
        }

        .user-message {
            background-color: #007bff;
            color: white;
            margin-left: auto;
            text-align: right;
        }

        .bot-message {
            background-color: #e9ecef;
            color: #333;
            margin-right: auto;
            text-align: left;
        }

        #chatbot-input-container {
            display: flex;
            padding: 10px;
            border-top: 1px solid #ddd;
        }

        #chatbot-input {
            flex-grow: 1;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 20px;
            margin-right: 10px;
        }

        #chatbot-send {
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }

        #chatbot-send:hover {
            background-color: #0056b3;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 10px;
            margin-top: 20px;
            background-color: #eee;
            color: #555;
            font-size: 0.9em;
        }
    </style>
</head>
<body>

    <header class="hero-section">
        <h1 id="header-title">роЙроЩрпНроХро│рпН роОродро┐ро░рпНроХро╛ро▓родрпНродрпИ ро╡роЯро┐ро╡роорпИроХрпНроХро╡рпБроорпН - Pathfinder</h1>
        <p id="header-subtitle">GTK рооро╛рогро╡ро░рпНроХро│рпБроХрпНроХро╛рой родрпКро┤ро┐ро▓рпН ро╡ро┤ро┐роХро╛роЯрпНроЯро┐</p>
        <div class="lang-selector">
            <button id="lang-en" onclick="setLanguage('en')">English</button>
            <button id="lang-ta" onclick="setLanguage('ta')">родрооро┐ро┤рпН</button>
        </div>
    </header>

    <main class="container">
        <section class="motivation-card">
            <h2 id="mot-heading">роЙроЩрпНроХро│рпН родро┐ро▒ройрпИ роЖро░ро╛ропрпБроЩрпНроХро│рпН! (Explore Your Potential!)</h2>
            <p id="mot-quote">"роОродро┐ро░рпНроХро╛ро▓роорпН роОройрпНрокродрпБ, роЕро╡ро░рпНроХро│ро┐ройрпН роХройро╡рпБроХро│ро┐ройрпН роЕро┤роХрпИ роироорпНрокрпБрокро╡ро░рпНроХро│рпБроХрпНроХрпБроЪрпН роЪрпКроирпНродрооро╛ройродрпБ." - роОро▓ро┐ройрпЛро░рпН ро░рпВро╕рпНро╡рпЖро▓рпНроЯрпН</p>
        </section>

        <section class="quiz-section">
            <h2 id="quiz-title">роЙроЩрпНроХро│рпН роиро╛роЯрпНроЯродрпНродрпИ роородро┐рокрпНрокро┐роЯрпБроЩрпНроХро│рпН (Aptitude Assessment)</h2>
            <form id="aptitude-quiz">
                <div class="question-card">
                    <p id="q1">1. роЪро┐роХрпНроХро▓ро╛рой роХрогро┐родрокрпН рокро┐ро░роЪрпНроЪройрпИроХро│рпИродрпН родрпАро░рпНрокрпНрокродро┐ро▓рпН роирпАроЩрпНроХро│рпН роороХро┐ро┤рпНроЪрпНроЪро┐ роЕроЯрпИроХро┐ро▒рпАро░рпНроХро│ро╛? (Do you enjoy solving complex math problems?)</p>
                    <label><input type="radio" name="q1" value="sci-math" required> <span id="q1-opt1">роЖроорпН (Yes)</span></label><br>
                    <label><input type="radio" name="q1" value="arts-hum"> <span id="q1-opt2">роЗро▓рпНро▓рпИ (No)</span></label>
                </div>
                
                <div class="question-card">
                    <p id="q2">2. роХродрпИ роОро┤рпБродрпБро╡родрпБ, роУро╡ро┐ропроорпН ро╡ро░рпИро╡родрпБ роЕро▓рпНро▓родрпБ роЗроЪрпИ роЙро░рпБро╡ро╛роХрпНроХрпБро╡родро┐ро▓рпН роирпАроЩрпНроХро│рпН роЖро░рпНро╡роорпН роЙро│рпНро│ро╡ро░ро╛? (Are you interested in writing stories, painting, or creating music?)</p>
                    <label><input type="radio" name="q2" value="arts-hum" required> <span id="q2-opt1">роЖроорпН (Yes)</span></label><br>
                    <label><input type="radio" name="q2" value="commerce"> <span id="q2-opt2">роЗро▓рпНро▓рпИ (No)</span></label>
                </div>

                 <div class="question-card">
                    <p id="q3">3. роЪроирпНродрпИ рокрпЛроХрпНроХрпБроХро│рпИрокрпН рокро▒рпНро▒ро┐ рокроХрпБрокрпНрокро╛ропрпНро╡рпБ роЪрпЖропрпНро╡родро┐ро▓рпБроорпН, рокрогроорпН рооро▒рпНро▒рпБроорпН роиро┐родро┐ роорпЗро▓ро╛рогрпНроорпИропро┐ро▓рпБроорпН роирпАроЩрпНроХро│рпН роЖро░рпНро╡роорпН роЙро│рпНро│ро╡ро░ро╛? (Are you interested in analyzing market trends, and managing money and finance?)</p>
                    <label><input type="radio" name="q3" value="commerce" required> <span id="q3-opt1">роЖроорпН (Yes)</span></label><br>
                    <label><input type="radio" name="q3" value="sci-math"> <span id="q3-opt2">роЗро▓рпНро▓рпИ (No)</span></label>
                </div>
                
                <button type="button" onclick="submitQuiz()" id="submit-btn">роорпБроЯро┐ро╡рпБроХро│рпИрокрпН рокро╛ро░рпНроХрпНроХро╡рпБроорпН (See Results)</button>
            </form>
        </section>

        <section class="results-section" id="results-section">
            <h2 id="results-heading">роЙроЩрпНроХро│рпН рокро░ро┐роирпНродрпБро░рпИроХрпНроХрокрпНрокроЯрпНроЯ рокро╛родрпИ (Your Recommended Path)</h2>
            <div id="suggested-stream" class="stream-result">роЙроЩрпНроХро│рпН роиро╛роЯрпНроЯродрпНродрпИ роородро┐рокрпНрокро┐роЯрпБроЩрпНроХро│рпН (Take the assessment above)</div>
            
            <h3 id="resources-title">роорпБроХрпНроХро┐роп роЖродро╛ро░роЩрпНроХро│рпН рооро▒рпНро▒рпБроорпН роЗрогрпИрокрпНрокрпБроХро│рпН (Key Resources & Links)</h3>
            <ul id="resource-links">
                </ul>

            <div class="admissions-card">
                <h4 id="admissions-title">роЪрпЗро░рпНроХрпНроХрпИ ро╡ро┤ро┐роХро╛роЯрпНроЯро┐ (Admissions Guide)</h4>
                <p id="admissions-content">TNEA, NEET, JEE рокрпЛройрпНро▒ роирпБро┤рпИро╡рпБродрпН родрпЗро░рпНро╡рпБроХро│рпБроХрпНроХро╛рой ро╡ро┐рогрпНрогрокрпНрокрокрпН рокроЯро┐ро╡роЩрпНроХро│рпН рооро▒рпНро▒рпБроорпН роХро╛ро▓ роЕроЯрпНроЯро╡рогрпИроХро│рпН роЗроЩрпНроХрпЗ роХро┐роЯрпИроХрпНроХрпБроорпН. (Application forms and schedules for entrance exams like TNEA, NEET, JEE are available here.)</p>
                <a href="#" id="admissions-link" target="_blank">роорпЗро▓рпБроорпН роЕро▒ро┐роХ (Learn More)</a>
            </div>
            
            <div class="scholarship-card">
                <h4 id="scholarship-title">роЙродро╡ро┐родрпНродрпКроХрпИ ро╡ро╛ропрпНрокрпНрокрпБроХро│рпН (Scholarship Opportunities)</h4>
                <p id="scholarship-content">роорпБродро▓рпН рокроЯрпНроЯродро╛ро░ро┐ роЙродро╡ро┐родрпНродрпКроХрпИ, роХро▓рпНро╡ро┐ роХроЯройрпН родро┐роЯрпНроЯроЩрпНроХро│рпБроХрпНроХро╛рой роЗрогрпИрокрпНрокрпБроХро│рпН. (Links for First Graduate Scholarship, educational loan schemes.)</p>
                <a href="#" id="scholarship-link" target="_blank">ро╡ро┐рогрпНрогрокрпНрокро┐роХрпНроХро╡рпБроорпН (Apply Now)</a>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 Pathfinder - родрооро┐ро┤рпНроиро╛роЯрпБ рооро╛рогро╡ро░рпНроХро│рпБроХрпНроХро╛рой ро╡ро┤ро┐роХро╛роЯрпНроЯро┐</p>
    </footer>

    <button id="chatbot-toggle">ЁЯТм</button>
    <div id="chatbot-box">
        <div id="chatbot-header" data-en="Ask a Career Expert" data-ta="роТро░рпБ родрпКро┤ро┐ро▓рпН ро╡ро┤ро┐роХро╛роЯрпНроЯро┐ропро┐роЯроорпН роХрпЗро│рпБроЩрпНроХро│рпН">роТро░рпБ родрпКро┤ро┐ро▓рпН ро╡ро┤ро┐роХро╛роЯрпНроЯро┐ропро┐роЯроорпН роХрпЗро│рпБроЩрпНроХро│рпН</div>
        <div id="chatbot-messages">
            <div class="message bot-message" id="initial-bot-message">Hello! Ask me any question about career options, courses in Tamil Nadu, or entrance exams!</div>
        </div>
        <div id="chatbot-input-container">
            <input type="text" id="chatbot-input" placeholder="роЙроЩрпНроХро│рпН роХрпЗро│рпНро╡ро┐ропрпИ роЗроЩрпНроХрпЗ родроЯрпНроЯроЪрпНроЪрпБ роЪрпЖропрпНропро╡рпБроорпН..." onkeydown="handleChatbotInput(event)">
            <button id="chatbot-send" onclick="sendMessage()">тЦ╢</button>
        </div>
    </div>


    <script>
        // --- A. Language Data Dictionary ---
        const translations = {
            'en': {
                'page-title': 'Pathfinder - Career Guidance TN',
                'header-title': 'Shape Your Future - Pathfinder',
                'header-subtitle': 'Career Guidance for Students of Class 9 to 12',
                'mot-heading': 'Explore Your Potential!',
                'mot-quote': '"The future belongs to those who believe in the beauty of their dreams." - Eleanor Roosevelt',
                'quiz-title': 'Assess Your Aptitude',
                'q1': '1. Do you enjoy solving complex math problems?',
                'q1-opt1': 'Yes',
                'q1-opt2': 'No',
                'q2': '2. Are you interested in writing stories, painting, or creating music?',
                'q2-opt1': 'Yes',
                'q2-opt2': 'No',
                'q3': '3. Are you interested in analyzing market trends, and managing money and finance?',
                'q3-opt1': 'Yes',
                'q3-opt2': 'No',
                'submit-btn': 'See Results',
                'results-heading': 'Your Recommended Path',
                'resources-title': 'Key Resources & Links',
                'admissions-title': 'Admissions Guide',
                'admissions-content': 'Application forms and schedules for entrance exams like TNEA, NEET, JEE are available here.',
                'admissions-link': 'Learn More',
                'scholarship-title': 'Scholarship Opportunities',
                'scholarship-content': 'Links for First Graduate Scholarship, educational loan schemes.',
                'scholarship-link': 'Apply Now',
                'stream-sci-math': 'Science/Engineering (B.E./B.Tech/B.Sc)',
                'stream-arts-hum': 'Arts & Humanities (B.A./B.Sc/Law)',
                'stream-commerce': 'Commerce/Finance (B.Com/CA/BBA)',
                'suggested-stream': 'Take the assessment above',
                'initial-bot-message': 'Hello! Ask me any question about career options, courses in Tamil Nadu, or entrance exams!',
                'chatbot-header': 'Ask a Career Expert',
                'chatbot-input-placeholder': 'Type your question here...'
            },
            'ta': {
                'page-title': 'роЙроЩрпНроХро│рпН роОродро┐ро░рпНроХро╛ро▓родрпНродрпИ ро╡роЯро┐ро╡роорпИроХрпНроХро╡рпБроорпН - Pathfinder',
                'header-title': 'роЙроЩрпНроХро│рпН роОродро┐ро░рпНроХро╛ро▓родрпНродрпИ ро╡роЯро┐ро╡роорпИроХрпНроХро╡рпБроорпН - Pathfinder',
                'header-subtitle': '9 роорпБродро▓рпН 12 роЖроорпН ро╡роХрпБрокрпНрокрпБ рооро╛рогро╡ро░рпНроХро│рпБроХрпНроХро╛рой родрпКро┤ро┐ро▓рпН ро╡ро┤ро┐роХро╛роЯрпНроЯро┐',
                'mot-heading': 'роЙроЩрпНроХро│рпН родро┐ро▒ройрпИ роЖро░ро╛ропрпБроЩрпНроХро│рпН!',
                'mot-quote': '"роОродро┐ро░рпНроХро╛ро▓роорпН роОройрпНрокродрпБ, роЕро╡ро░рпНроХро│ро┐ройрпН роХройро╡рпБроХро│ро┐ройрпН роЕро┤роХрпИ роироорпНрокрпБрокро╡ро░рпНроХро│рпБроХрпНроХрпБроЪрпН роЪрпКроирпНродрооро╛ройродрпБ." - роОро▓ро┐ройрпЛро░рпН ро░рпВро╕рпНро╡рпЖро▓рпНроЯрпН',
                'quiz-title': 'роЙроЩрпНроХро│рпН роиро╛роЯрпНроЯродрпНродрпИ роородро┐рокрпНрокро┐роЯрпБроЩрпНроХро│рпН',
                'q1': '1. роЪро┐роХрпНроХро▓ро╛рой роХрогро┐родрокрпН рокро┐ро░роЪрпНроЪройрпИроХро│рпИродрпН родрпАро░рпНрокрпНрокродро┐ро▓рпН роирпАроЩрпНроХро│рпН роороХро┐ро┤рпНроЪрпНроЪро┐ роЕроЯрпИроХро┐ро▒рпАро░рпНроХро│ро╛?',
                'q1-opt1': 'роЖроорпН',
                'q1-opt2': 'роЗро▓рпНро▓рпИ',
                'q2': '2. роХродрпИ роОро┤рпБродрпБро╡родрпБ, роУро╡ро┐ропроорпН ро╡ро░рпИро╡родрпБ роЕро▓рпНро▓родрпБ роЗроЪрпИ роЙро░рпБро╡ро╛роХрпНроХрпБро╡родро┐ро▓рпН роирпАроЩрпНроХро│рпН роЖро░рпНро╡роорпН роЙро│рпНро│ро╡ро░ро╛?',
                'q2-opt1': 'роЖроорпН',
                'q2-opt2': 'роЗро▓рпНро▓рпИ',
                'q3': '3. роЪроирпНродрпИ рокрпЛроХрпНроХрпБроХро│рпИрокрпН рокро▒рпНро▒ро┐ рокроХрпБрокрпНрокро╛ропрпНро╡рпБ роЪрпЖропрпНро╡родро┐ро▓рпБроорпН, рокрогроорпН рооро▒рпНро▒рпБроорпН роиро┐родро┐ роорпЗро▓ро╛рогрпНроорпИропро┐ро▓рпБроорпН роирпАроЩрпНроХро│рпН роЖро░рпНро╡роорпН роЙро│рпНро│ро╡ро░ро╛?',
                'q3-opt1': 'роЖроорпН',
                'q3-opt2': 'роЗро▓рпНро▓рпИ',
                'submit-btn': 'роорпБроЯро┐ро╡рпБроХро│рпИрокрпН рокро╛ро░рпНроХрпНроХро╡рпБроорпН',
                'results-heading': 'роЙроЩрпНроХро│рпН рокро░ро┐роирпНродрпБро░рпИроХрпНроХрокрпНрокроЯрпНроЯ рокро╛родрпИ',
                'resources-title': 'роорпБроХрпНроХро┐роп роЖродро╛ро░роЩрпНроХро│рпН рооро▒рпНро▒рпБроорпН роЗрогрпИрокрпНрокрпБроХро│рпН',
                'admissions-title': 'роЪрпЗро░рпНроХрпНроХрпИ ро╡ро┤ро┐роХро╛роЯрпНроЯро┐',
                'admissions-content': 'TNEA, NEET, JEE рокрпЛройрпНро▒ роирпБро┤рпИро╡рпБродрпН родрпЗро░рпНро╡рпБроХро│рпБроХрпНроХро╛рой ро╡ро┐рогрпНрогрокрпНрокрокрпН рокроЯро┐ро╡роЩрпНроХро│рпН рооро▒рпНро▒рпБроорпН роХро╛ро▓ роЕроЯрпНроЯро╡рогрпИроХро│рпН роЗроЩрпНроХрпЗ роХро┐роЯрпИроХрпНроХрпБроорпН.',
                'admissions-link': 'роорпЗро▓рпБроорпН роЕро▒ро┐роХ',
                'scholarship-title': 'роЙродро╡ро┐родрпНродрпКроХрпИ ро╡ро╛ропрпНрокрпНрокрпБроХро│рпН',
                'scholarship-content': 'роорпБродро▓рпН рокроЯрпНроЯродро╛ро░ро┐ роЙродро╡ро┐родрпНродрпКроХрпИ, роХро▓рпНро╡ро┐ роХроЯройрпН родро┐роЯрпНроЯроЩрпНроХро│рпБроХрпНроХро╛рой роЗрогрпИрокрпНрокрпБроХро│рпН.',
                'scholarship-link': 'ро╡ро┐рогрпНрогрокрпНрокро┐роХрпНроХро╡рпБроорпН',
                'stream-sci-math': 'роЕро▒ро┐ро╡ро┐ропро▓рпН/рокрпКро▒ро┐ропро┐ропро▓рпН (B.E./B.Tech/B.Sc)',
                'stream-arts-hum': 'роХро▓рпИ рооро▒рпНро▒рпБроорпН рооройро┐родроирпЗропроорпН (B.A./B.Sc/роЪроЯрпНроЯроорпН)',
                'stream-commerce': 'ро╡ро░рпНродрпНродроХроорпН/роиро┐родро┐ (B.Com/CA/BBA)',
                'suggested-stream': 'роЙроЩрпНроХро│рпН роиро╛роЯрпНроЯродрпНродрпИ роородро┐рокрпНрокро┐роЯрпБроЩрпНроХро│рпН (роорпЗро▓рпЗ роЙро│рпНро│ родрпЗро░рпНро╡рпИ роОроЯрпБроЩрпНроХро│рпН)',
                'initial-bot-message': 'ро╡рогроХрпНроХроорпН! родрпКро┤ро┐ро▓рпН ро╡ро╛ропрпНрокрпНрокрпБроХро│рпН, родрооро┐ро┤рпНроиро╛роЯрпНроЯро┐ро▓рпН роЙро│рпНро│ рокроЯро┐рокрпНрокрпБроХро│рпН роЕро▓рпНро▓родрпБ роирпБро┤рпИро╡рпБродрпН родрпЗро░рпНро╡рпБроХро│рпН роХрпБро▒ро┐родрпНродрпБ роПродрпЗройрпБроорпН роХрпЗро│рпНро╡ро┐роХро│рпН роЗро░рпБроирпНродро╛ро▓рпН роОройрпНройро┐роЯроорпН роХрпЗроЯрпНроХро▓ро╛роорпН!',
                'chatbot-header': 'роТро░рпБ родрпКро┤ро┐ро▓рпН ро╡ро┤ро┐роХро╛роЯрпНроЯро┐ропро┐роЯроорпН роХрпЗро│рпБроЩрпНроХро│рпН',
                'chatbot-input-placeholder': 'роЙроЩрпНроХро│рпН роХрпЗро│рпНро╡ро┐ропрпИ роЗроЩрпНроХрпЗ родроЯрпНроЯроЪрпНроЪрпБ роЪрпЖропрпНропро╡рпБроорпН...'
            }
        };

        let currentLang = 'ta'; // Default to Tamil

        // --- B. Language Switching Function ---
        function setLanguage(lang) {
            currentLang = lang;
            const t = translations[lang];

            // 1. Update standard text elements
            for (const key in t) {
                const element = document.getElementById(key);
                if (element && key !== 'initial-bot-message' && key !== 'chatbot-input-placeholder') {
                    element.textContent = t[key];
                }
            }

            // 2. Update placeholders and chat elements
            document.getElementById('chatbot-input').placeholder = t['chatbot-input-placeholder'];
            document.getElementById('chatbot-header').textContent = t['chatbot-header'];
            document.getElementById('initial-bot-message').textContent = t['initial-bot-message'];

            // 3. Update the stream text if results are already shown
            const streamDiv = document.getElementById('suggested-stream');
            if (streamDiv.dataset.stream) {
                displayResults(streamDiv.dataset.stream);
            }
            
            // 4. Update page title
            document.getElementById('page-title').textContent = t['page-title'];
        }

        // Set initial language on load
        document.addEventListener('DOMContentLoaded', () => {
            setLanguage(currentLang);
        });


        // --- C. Quiz Logic Function ---
        function submitQuiz() {
            const form = document.getElementById('aptitude-quiz');
            const quizData = new FormData(form);
            const answers = { 'sci-math': 0, 'arts-hum': 0, 'commerce': 0 };

            // Check if all required questions are answered
            let allAnswered = true;
            for (let i = 1; i <= 3; i++) {
                if (!quizData.get('q' + i)) {
                    allAnswered = false;
                    break;
                }
            }

            if (!allAnswered) {
                alert(currentLang === 'ta' ? 'роЕройрпИродрпНродрпБ роХрпЗро│рпНро╡ро┐роХро│рпБроХрпНроХрпБроорпН рокродро┐ро▓ро│ро┐роХрпНроХро╡рпБроорпН.' : 'Please answer all questions.');
                return;
            }

            // Simple Scoring Mechanism
            for (const [name, value] of quizData.entries()) {
                if (answers.hasOwnProperty(value)) {
                    answers[value]++;
                }
            }

            // Determine the highest score
            let maxScore = -1;
            let suggestedStream = 'arts-hum'; // Default stream

            for (const stream in answers) {
                if (answers[stream] > maxScore) {
                    maxScore = answers[stream];
                    suggestedStream = stream;
                }
            }
            
            displayResults(suggestedStream);
            // Scroll to results section
            document.getElementById('results-section').scrollIntoView({ behavior: 'smooth' });
        }

        // --- D. Dynamic Results & Resources Display ---
        function displayResults(streamKey) {
            const resultsDiv = document.getElementById('suggested-stream');
            const linksList = document.getElementById('resource-links');
            const t = translations[currentLang];
            
            const streamNameKey = 'stream-' + streamKey;
            resultsDiv.textContent = t[streamNameKey] || streamKey;
            resultsDiv.dataset.stream = streamKey; // Store the key for language toggle

            linksList.innerHTML = ''; // Clear previous links

            // Define Resources based on the suggested stream
            let resources = [];
            let admissionsLink = 'https://www.tneaonline.org/'; // Default admission link
            let scholarshipLink = 'https://www.tnesc.in/'; // Default scholarship link

            if (streamKey === 'sci-math') { // Science/Engineering
                resources = [
                    { text: 'TNEA Counselling Official Website (Engineering)', href: 'https://www.tneaonline.org/' },
                    { text: 'NEET Official Site (Medical/Health Science)', href: 'https://neet.nta.nic.in/' },
                    { text: 'Tamil Nadu BSc Agriculture Admissions', href: 'https://tnau.ac.in/' }
                ];
                admissionsLink = 'https://www.tneaonline.org/';
            } else if (streamKey === 'commerce') { // Commerce/Finance
                resources = [
                    { text: 'The Institute of Chartered Accountants of India (ICAI)', href: 'https://www.icai.org/' },
                    { text: 'List of Top B.Com Colleges in Chennai', href: '#' },
                    { text: 'National Stock Exchange (NSE) Courses', href: '#' }
                ];
                admissionsLink = '#';
            } else if (streamKey === 'arts-hum') { // Arts & Humanities/Law
                 resources = [
                    { text: 'Tamil Nadu Dr. Ambedkar Law University Admissions', href: 'https://tndalu.ac.in/' },
                    { text: 'UPSC/TNPSC Exam Guidance Resources', href: '#' },
                    { text: 'List of Top Arts & Science Colleges in Tamil Nadu', href: '#' }
                ];
                admissionsLink = 'https://tndalu.ac.in/';
            }
            
            // Update admission and scholarship links
            document.getElementById('admissions-link').href = admissionsLink;
            document.getElementById('scholarship-link').href = scholarshipLink;

            // Populate the resource list
            resources.forEach(res => {
                const listItem = document.createElement('li');
                const link = document.createElement('a');
                link.href = res.href;
                link.target = "_blank";
                link.textContent = res.text;
                listItem.appendChild(link);
                linksList.appendChild(listItem);
            });
        }


        // --- E. Chatbot Logic (Rule-Based AI) ---

        const chatbotToggle = document.getElementById('chatbot-toggle');
        const chatbotBox = document.getElementById('chatbot-box');
        const chatbotMessages = document.getElementById('chatbot-messages');
        const chatbotInput = document.getElementById('chatbot-input');

        chatbotToggle.onclick = () => {
            const isVisible = chatbotBox.style.display === 'flex';
            chatbotBox.style.display = isVisible ? 'none' : 'flex';
            chatbotToggle.textContent = isVisible ? 'ЁЯТм' : 'тЬЦ';
        };

        function addMessage(text, sender) {
            const messageElement = document.createElement('div');
            messageElement.classList.add('message', sender === 'user' ? 'user-message' : 'bot-message');
            messageElement.textContent = text;
            chatbotMessages.appendChild(messageElement);
            chatbotMessages.scrollTop = chatbotMessages.scrollHeight; // Scroll to bottom
        }

        function handleChatbotInput(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        function sendMessage() {
            const message = chatbotInput.value.trim();
            if (message === '') return;

            addMessage(message, 'user');
            chatbotInput.value = '';

            // Simulate AI delay
            setTimeout(() => {
                const response = generateAIResponse(message);
                addMessage(response, 'bot');
            }, 1000); // 1 second delay
        }

        // The core of the "Free Open Source AI" (Rule-Based Logic)
        function generateAIResponse(userInput) {
            const inputLower = userInput.toLowerCase();
            const lang = currentLang;
            const t = translations[lang];

            // 1. Keyword-based responses (Career Stream)
            if (inputLower.includes('engineering') || inputLower.includes('рокрпКро▒ро┐ропро┐ропро▓рпН')) {
                return lang === 'ta' 
                    ? `рокрпКро▒ро┐ропро┐ропро▓рпН родрпБро▒рпИропро┐ро▓рпН, CSE (роХрогро┐ройро┐ роЕро▒ро┐ро╡ро┐ропро▓рпН), ECE (роОро▓роХрпНроЯрпНро░ро╛ройро┐роХрпНро╕рпН) рооро▒рпНро▒рпБроорпН роорпЖроХрпНроХро╛ройро┐роХрпНроХро▓рпН рокрпЛройрпНро▒ рокро▓рпНро╡рпЗро▒рпБ рокро┐ро░ро┐ро╡рпБроХро│рпН роЙро│рпНро│рой. TNEA (родрооро┐ро┤рпНроиро╛роЯрпБ рокрпКро▒ро┐ропро┐ропро▓рпН роЪрпЗро░рпНроХрпНроХрпИ) роорпВро▓роорпН роЪрпЗро░рпНроХрпНроХрпИ рокрпЖро▒ро▓ро╛роорпН. роирпАроЩрпНроХро│рпН роХрогро┐родродрпНродро┐ро▓рпН роХро╡ройроорпН роЪрпЖро▓рпБродрпНрод ро╡рпЗрогрпНроЯрпБроорпН.`
                    : `In Engineering, you have branches like CSE, ECE, Mechanical, and more. Admission is primarily through TNEA (Tamil Nadu Engineering Admissions). Focus on Math and Science subjects.`;
            }
            
            if (inputLower.includes('neet') || inputLower.includes('medical') || inputLower.includes('рооро░рпБродрпНродрпБро╡роорпН')) {
                return lang === 'ta' 
                    ? `рооро░рпБродрпНродрпБро╡рокрпН рокроЯро┐рокрпНрокрпБроХро│рпБроХрпНроХрпБ (MBBS/BDS) родрпЗроЪро┐роп родроХрпБродро┐ рооро▒рпНро▒рпБроорпН роирпБро┤рпИро╡рпБродрпН родрпЗро░рпНро╡рпБ (NEET) роХроЯрпНроЯро╛ропроорпН. роирпАроЩрпНроХро│рпН роЙропро┐ро░ро┐ропро▓рпН рооро▒рпНро▒рпБроорпН ро╡рпЗродро┐ропро┐ропро▓рпН рокро┐ро░ро┐ро╡рпБроХро│ро┐ро▓рпН роЕродро┐роХ роородро┐рокрпНрокрпЖрогрпНроХро│рпИ роЗро▓роХрпНроХро╛роХроХрпН роХрпКро│рпНро│ ро╡рпЗрогрпНроЯрпБроорпН.`
                    : `For Medical courses (MBBS/BDS), the National Eligibility cum Entrance Test (NEET) is mandatory. You must focus on scoring high in Biology and Chemistry.`;
            }

            if (inputLower.includes('commerce') || inputLower.includes('b.com') || inputLower.includes('ро╡ро░рпНродрпНродроХроорпН')) {
                return lang === 'ta'
                    ? `B.Com рокроЯро┐рокрпНрокрпБроХро│рпН роиро┐родро┐, роХрогроХрпНроХро┐ропро▓рпН рооро▒рпНро▒рпБроорпН ро╡рогро┐роХ роиро┐ро░рпНро╡ро╛роХродрпНродро┐ро▓рпН роХро╡ройроорпН роЪрпЖро▓рпБродрпНродрпБроХро┐ройрпНро▒рой. CA (рокроЯрпНроЯропроХрпН роХрогроХрпНроХро╛ро│ро░рпН) рокрпЛройрпНро▒ родрпКро┤ро┐ро▓рпНроХро│рпБроХрпНроХрпБ роЗродрпБ роТро░рпБ роиро▓рпНро▓ родрпКроЯроХрпНроХрооро╛роХрпБроорпН. рооро╛роиро┐ро▓роХрпН роХро▓рпНро▓рпВро░ро┐ роЪрпЗро░рпНроХрпНроХрпИроХрпНроХрпБ 12роЖроорпН ро╡роХрпБрокрпНрокрпБ роородро┐рокрпНрокрпЖрогрпНроХро│рпН рокрпЛродрпБроорпН.`
                    : `B.Com courses focus on finance, accounting, and business management. It's a great start for careers like CA (Chartered Accountant). 12th board marks are usually sufficient for state college admissions.`;
            }

            // 2. Simple greeting and general questions
            if (inputLower.includes('hello') || inputLower.includes('hi') || inputLower.includes('ро╡рогроХрпНроХроорпН')) {
                return lang === 'ta' 
                    ? `ро╡рогроХрпНроХроорпН! роиро╛ройрпН роТро░рпБ родрпКро┤ро┐ро▓рпН ро╡ро┤ро┐роХро╛роЯрпНроЯро┐ роиро┐рокрпБрогро░рпН. роЙроЩрпНроХро│рпБроХрпНроХрпБ роОрокрпНрокроЯро┐ роЙродро╡ роорпБроЯро┐ропрпБроорпН?`
                    : `Hello! I am a career guidance expert. How can I help you today?`;
            }
            
            if (inputLower.includes('scholarship') || inputLower.includes('роЙродро╡ро┐родрпНродрпКроХрпИ')) {
                return lang === 'ta' 
                    ? `родрооро┐ро┤рпНроиро╛роЯрпНроЯро┐ро▓рпН роорпБродро▓рпН рокроЯрпНроЯродро╛ро░ро┐ роЙродро╡ро┐родрпНродрпКроХрпИ (First Graduate Scholarship) рооро▒рпНро▒рпБроорпН роородрпНродро┐роп роЕро░роЪро┐ройрпН рокро▓рпНро╡рпЗро▒рпБ роЙродро╡ро┐родрпНродрпКроХрпИ родро┐роЯрпНроЯроЩрпНроХро│рпН роЙро│рпНро│рой. роорпЗро▓рпБроорпН ро╡ро┐ро╡ро░роЩрпНроХро│рпБроХрпНроХрпБ роорпЗро▓рпЗ роЙро│рпНро│ 'роЙродро╡ро┐родрпНродрпКроХрпИ ро╡ро╛ропрпНрокрпНрокрпБроХро│рпН' рокроХрпБродро┐ропрпИроЪрпН роЪро░ро┐рокро╛ро░рпНроХрпНроХро╡рпБроорпН.`
                    : `Tamil Nadu offers the First Graduate Scholarship and various Central Government schemes. Please check the 'Scholarship Opportunities' section above for links.`;
            }

            // 3. Default/Fallback response
            return lang === 'ta'
                ? `роиро╛ройрпН роТро░рпБ роЕроЯро┐рокрпНрокроЯрпИ роорпЖройрпНрокрпКро░рпБро│рпН ро╡ро┤ро┐роХро╛роЯрпНроЯро┐. роирпАроЩрпНроХро│рпН роХрпЗроЯрпНроХрпБроорпН роХрпЗро│рпНро╡ро┐роХрпНроХрпБ роЪро░ро┐ропро╛рой рокродро┐ро▓рпН роЗро▓рпНро▓рпИ. родропро╡рпБроЪрпЖропрпНродрпБ 'рокрпКро▒ро┐ропро┐ропро▓рпН', 'рооро░рпБродрпНродрпБро╡роорпН' роЕро▓рпНро▓родрпБ 'B.Com' рокрпЛройрпНро▒ роорпБроХрпНроХро┐роп ро╡ро╛ро░рпНродрпНродрпИроХро│рпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роорпАрогрпНроЯрпБроорпН роорпБропро▒рпНроЪро┐роХрпНроХро╡рпБроорпН.`
                : `I am a basic rule-based guide. I don't have a specific answer for that. Please try again with keywords like 'Engineering', 'NEET', or 'B.Com'.`;
        }
    </script>

</body>
</html>
