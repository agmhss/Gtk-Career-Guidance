<!DOCTYPE html>
<html lang="ta">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">роЙроЩрпНроХро│рпН роОродро┐ро░рпНроХро╛ро▓родрпНродрпИ ро╡роЯро┐ро╡роорпИроХрпНроХро╡рпБроорпН - Pathfinder</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Noto+Sans+Tamil:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        /* --- 1. General & Font Styling --- */
        body {
            font-family: 'Noto Sans Tamil', 'Montserrat', sans-serif;
            margin: 0;
            padding: 0;
            /* Soft, light blue/white gradient background */
            background: linear-gradient(135deg, #e0f7fa 0%, #f4f6ff 50%, #e0f7fa 100%);
            color: #333;
            line-height: 1.6;
            scroll-behavior: smooth;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* Glass effect mixin */
        .glass-card {
            background-color: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(8px);
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.3);
            transition: transform 0.3s ease;
        }

        .glass-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }

        /* --- 2. Header & Hero Section --- */
        .hero-section {
            background: linear-gradient(90deg, #17a2b8, #007bff); /* Stronger blue gradient */
            color: white;
            padding: 40px 20px 20px;
            text-align: center;
            border-bottom-left-radius: 20px;
            border-bottom-right-radius: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }

        .hero-section h1 {
            font-size: 3em;
            margin-bottom: 5px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
            font-weight: 700;
        }

        /* Language Selector */
        .lang-selector {
            margin-top: 15px;
        }

        .lang-selector button {
            background-color: #ffc107; /* Yellow accent */
            border: none;
            padding: 8px 15px;
            margin: 5px;
            cursor: pointer;
            border-radius: 20px;
            font-weight: bold;
            transition: background-color 0.3s, transform 0.2s;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .lang-selector button:hover {
            background-color: #e0a800;
            transform: scale(1.05);
        }
        
        /* Start Page Overlay */
        #start-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #007bffaa 0%, #00c6ffaa 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            z-index: 2000;
        }

        #start-button {
            padding: 15px 40px;
            font-size: 1.8em;
            font-weight: 700;
            background-color: #28a745; /* Green for GO */
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
            transition: background-color 0.3s, transform 0.2s;
        }

        #start-button:hover {
            background-color: #1e7e34;
            transform: scale(1.05);
        }

        #welcome-message {
            color: white;
            font-size: 1.2em;
            margin-top: 20px;
            text-align: center;
        }

        /* --- 3. Main Content Layout (Flex/Grid for responsiveness) --- */
        .main-content {
            display: flex;
            gap: 20px;
            padding: 20px;
        }

        .left-panel {
            flex: 2; /* Takes up 2/3 of space */
        }

        .right-panel {
            flex: 1; /* Takes up 1/3 of space */
        }

        /* Motivation Card */
        .motivation-card {
            background-color: #28a745; 
            color: white;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        /* Quiz Section */
        .quiz-section {
            padding: 30px;
            margin-bottom: 30px;
            height: fit-content;
        }

        .quiz-section h2 {
            color: #ff6f00; /* Orange accent */
            border-bottom: 3px solid #ff6f00;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }

        .question-card {
            background-color: rgba(255, 255, 255, 0.8);
            padding: 15px;
            border-left: 5px solid #007bff; /* Blue marker */
            margin-bottom: 15px;
            border-radius: 8px;
        }

        /* Interactive Buttons */
        #submit-btn {
            background-color: #dc3545; /* Red/Maroon for action */
            color: white;
            border: none;
            padding: 12px 25px;
            font-size: 1.1em;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 15px;
            transition: background-color 0.3s;
        }

        #submit-btn:hover {
            background-color: #c82333;
        }

        /* --- 4. Results Section --- */
        .results-section {
            padding: 20px;
        }

        .stream-result {
            font-size: 1.5em;
            font-weight: bold;
            color: #007bff;
            margin-top: 10px;
            padding: 15px;
            background-color: #e9ecef;
            border-radius: 5px;
            text-align: center;
        }

        .admissions-card, .scholarship-card {
            padding: 20px;
            margin: 20px 0;
            border-top: 5px solid #17a2b8; /* Cyan for info */
        }

        .admissions-card a, .scholarship-card a {
            display: inline-block;
            background-color: #17a2b8;
            color: white;
            padding: 8px 15px;
            text-decoration: none;
            border-radius: 5px;
            margin-top: 10px;
            transition: background-color 0.3s;
        }
        
        .admissions-card a:hover, .scholarship-card a:hover {
            background-color: #117a8b;
        }

        #resource-links {
            list-style: none;
            padding: 0;
        }
        #resource-links li {
            background-color: rgba(232, 245, 233, 0.9); /* Very light green */
            margin-bottom: 10px;
            padding: 10px;
            border-radius: 5px;
        }
        #resource-links li a {
            color: #28a745;
            text-decoration: none;
            font-weight: bold;
        }
        
        /* --- 5. Floating Chatbot Dialogue Box --- */
        #chatbot-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background-color: #ff6f00; /* Orange/Motivational Color */
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.4);
            z-index: 1000;
        }

        #chatbot-box {
            position: fixed;
            bottom: 90px;
            right: 20px;
            width: 350px;
            height: 450px;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            display: none; 
            flex-direction: column;
            z-index: 1000;
            overflow: hidden;
        }

        #chatbot-header {
            background-color: #ff6f00;
            color: white;
            padding: 10px;
            text-align: center;
            font-weight: bold;
            font-size: 1.1em;
        }

        #chatbot-messages {
            flex-grow: 1;
            padding: 10px;
            overflow-y: auto;
            background-color: #f0f4f7;
        }
        
        /* AI Assistant Welcome Message (Styled like the screenshot) */
        .welcome-box {
            background-color: #28a745; 
            color: white;
            padding: 10px;
            border-radius: 5px;
            font-size: 0.9em;
            margin-bottom: 10px;
        }

        .message {
            margin-bottom: 10px;
            padding: 8px 12px;
            border-radius: 15px;
            max-width: 80%;
            line-height: 1.4;
        }

        .user-message {
            background-color: #007bff;
            color: white;
            margin-left: auto;
            text-align: right;
        }

        .bot-message {
            background-color: #e9ecef;
            color: #333;
            margin-right: auto;
            text-align: left;
        }

        #chatbot-input-container {
            display: flex;
            padding: 10px;
            border-top: 1px solid #ddd;
        }

        #chatbot-input {
            flex-grow: 1;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 20px;
            margin-right: 10px;
        }

        #chatbot-send {
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            font-size: 16px;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 10px;
            margin-top: 20px;
            background-color: #eee;
            color: #555;
            font-size: 0.9em;
        }

        /* Responsive Design */
        @media (max-width: 900px) {
            .main-content {
                flex-direction: column;
            }
            .left-panel, .right-panel {
                flex: none;
            }
            .quiz-section {
                order: -1; /* Quiz first on mobile */
            }
            #chatbot-box {
                width: 90%;
                right: 5%;
                bottom: 80px;
            }
        }
    </style>
</head>
<body>

    <div id="start-overlay">
        <h1 id="overlay-title" class="hero-section" style="width: 80%; border-radius: 15px;">GTK Career Guide</h1>
        <p id="welcome-message">
            родрооро┐ро┤рпНроиро╛роЯрпБ рооро╛рогро╡ро░рпНроХро│рпН родроЩрпНроХро│рпН роЪро┐ро▒роирпНрод роОродро┐ро░рпНроХро╛ро▓родрпНродрпИродрпН родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХ роЙродро╡рпБроорпН Gtk ро╡ро┤ро┐роХро╛роЯрпНроЯро┐.<br>
            Gtk Interactive guide to help Tamil Nadu students choose their best future.
        </p>
        <button id="start-button" onclick="startApp()">роЖро░роорпНрокро┐роХрпНроХро╡рпБроорпН (START)</button>
    </div>

    <div id="app-content" style="display: none;">
        <header class="hero-section">
            <h1 id="header-title">рооро╛рогро╡ро░рпНроХро│рпБроХрпНроХро╛рой родрпКро┤ро┐ро▓рпН ро╡ро┤ро┐роХро╛роЯрпНроЯро┐ - Gtk Pathfinder</h1>
            <p id="header-subtitle">Complete quiz first and then proceed</p>
            <div class="lang-selector">
                <button id="lang-en" onclick="setLanguage('en')">English</button>
                <button id="lang-ta" onclick="setLanguage('ta')">родрооро┐ро┤рпН</button>
            </div>
        </header>

        <div class="container main-content">
            
            <div class="left-panel">
                <section class="motivation-card">
                    <h2 id="mot-heading">роЙроЩрпНроХро│рпН родро┐ро▒ройрпИ роЖро░ро╛ропрпБроЩрпНроХро│рпН! (Explore Your Potential!)</h2>
                    <p id="mot-quote">"роОродро┐ро░рпНроХро╛ро▓роорпН роОройрпНрокродрпБ, роЕро╡ро░рпНроХро│ро┐ройрпН роХройро╡рпБроХро│ро┐ройрпН роЕро┤роХрпИ роироорпНрокрпБрокро╡ро░рпНроХро│рпБроХрпНроХрпБроЪрпН роЪрпКроирпНродрооро╛ройродрпБ." - роОро▓ро┐ройрпЛро░рпН ро░рпВро╕рпНро╡рпЖро▓рпНроЯрпН</p>
                </section>

                <section class="results-section glass-card" id="results-section">
                    <h2 id="results-heading">роЙроЩрпНроХро│рпН рокро░ро┐роирпНродрпБро░рпИроХрпНроХрокрпНрокроЯрпНроЯ рокро╛родрпИ (Your Recommended Path)</h2>
                    <div id="suggested-stream" class="stream-result">роЙроЩрпНроХро│рпН роиро╛роЯрпНроЯродрпНродрпИ роородро┐рокрпНрокро┐роЯрпБроЩрпНроХро│рпН (Take the assessment above)</div>
                    
                    <h3 id="resources-title">роорпБроХрпНроХро┐роп роЖродро╛ро░роЩрпНроХро│рпН рооро▒рпНро▒рпБроорпН роЗрогрпИрокрпНрокрпБроХро│рпН (Key Resources & Links)</h3>
                    <ul id="resource-links">
                        </ul>

                    <div class="admissions-card glass-card">
                        <h4 id="admissions-title">роЪрпЗро░рпНроХрпНроХрпИ ро╡ро┤ро┐роХро╛роЯрпНроЯро┐ (Admissions Guide)</h4>
                        <p id="admissions-content">TNEA, NEET, JEE рокрпЛройрпНро▒ роирпБро┤рпИро╡рпБродрпН родрпЗро░рпНро╡рпБроХро│рпБроХрпНроХро╛рой ро╡ро┐рогрпНрогрокрпНрокрокрпН рокроЯро┐ро╡роЩрпНроХро│рпН рооро▒рпНро▒рпБроорпН роХро╛ро▓ роЕроЯрпНроЯро╡рогрпИроХро│рпН роЗроЩрпНроХрпЗ роХро┐роЯрпИроХрпНроХрпБроорпН. (Application forms and schedules for entrance exams like TNEA, NEET, JEE are available here.)</p>
                        <a href="#" id="admissions-link" target="_blank">роорпЗро▓рпБроорпН роЕро▒ро┐роХ (Learn More)</a>
                    </div>
                    
                    <div class="scholarship-card glass-card">
                        <h4 id="scholarship-title">роЙродро╡ро┐родрпНродрпКроХрпИ ро╡ро╛ропрпНрокрпНрокрпБроХро│рпН (Scholarship Opportunities)</h4>
                        <p id="scholarship-content">роорпБродро▓рпН рокроЯрпНроЯродро╛ро░ро┐ роЙродро╡ро┐родрпНродрпКроХрпИ, роХро▓рпНро╡ро┐ роХроЯройрпН родро┐роЯрпНроЯроЩрпНроХро│рпБроХрпНроХро╛рой роЗрогрпИрокрпНрокрпБроХро│рпН. (Links for First Graduate Scholarship, educational loan schemes.)</p>
                        <a href="#" id="scholarship-link" target="_blank">ро╡ро┐рогрпНрогрокрпНрокро┐роХрпНроХро╡рпБроорпН (Apply Now)</a>
                    </div>
                </section>
            </div>
            
            <div class="right-panel">
                 <section class="quiz-section glass-card">
                    <h2 id="quiz-title" style="color: #ff6f00;">Career Interest Quiz</h2>
                    <form id="aptitude-quiz">
                        <p id="quiz-desc">10 quick questions to discover your path.</p>
                        <div class="question-card">
                            <p id="q1">1. роЪро┐роХрпНроХро▓ро╛рой роХрогро┐родрокрпН рокро┐ро░роЪрпНроЪройрпИроХро│рпИродрпН родрпАро░рпНрокрпНрокродро┐ро▓рпН роирпАроЩрпНроХро│рпН роороХро┐ро┤рпНроЪрпНроЪро┐ роЕроЯрпИроХро┐ро▒рпАро░рпНроХро│ро╛? (Do you enjoy solving complex math problems?)</p>
                            <label><input type="radio" name="q1" value="sci-math" required> <span id="q1-opt1">роЖроорпН (Yes)</span></label><br>
                            <label><input type="radio" name="q1" value="arts-hum"> <span id="q1-opt2">роЗро▓рпНро▓рпИ (No)</span></label>
                        </div>
                        
                        <div class="question-card">
                            <p id="q2">2. роХродрпИ роОро┤рпБродрпБро╡родрпБ, роУро╡ро┐ропроорпН ро╡ро░рпИро╡родрпБ роЕро▓рпНро▓родрпБ роЗроЪрпИ роЙро░рпБро╡ро╛роХрпНроХрпБро╡родро┐ро▓рпН роирпАроЩрпНроХро│рпН роЖро░рпНро╡роорпН роЙро│рпНро│ро╡ро░ро╛? (Are you interested in writing stories, painting, or creating music?)</p>
                            <label><input type="radio" name="q2" value="arts-hum" required> <span id="q2-opt1">роЖроорпН (Yes)</span></label><br>
                            <label><input type="radio" name="q2" value="commerce"> <span id="q2-opt2">роЗро▓рпНро▓рпИ (No)</span></label>
                        </div>

                        <div class="question-card">
                            <p id="q3">3. роЪроирпНродрпИ рокрпЛроХрпНроХрпБроХро│рпИрокрпН рокро▒рпНро▒ро┐ рокроХрпБрокрпНрокро╛ропрпНро╡рпБ роЪрпЖропрпНро╡родро┐ро▓рпБроорпН, рокрогроорпН рооро▒рпНро▒рпБроорпН роиро┐родро┐ роорпЗро▓ро╛рогрпНроорпИропро┐ро▓рпБроорпН роирпАроЩрпНроХро│рпН роЖро░рпНро╡роорпН роЙро│рпНро│ро╡ро░ро╛? (Are you interested in analyzing market trends, and managing money and finance?)</p>
                            <label><input type="radio" name="q3" value="commerce" required> <span id="q3-opt1">роЖроорпН (Yes)</span></label><br>
                            <label><input type="radio" name="q3" value="sci-math"> <span id="q3-opt2">роЗро▓рпНро▓рпИ (No)</span></label>
                        </div>
                        
                        <button type="button" onclick="submitQuiz()" id="submit-btn">роорпБроЯро┐ро╡рпБроХро│рпИрокрпН рокро╛ро░рпНроХрпНроХро╡рпБроорпН (See Results)</button>
                    </form>
                </section>
            </div>
        </div>

        <footer>
            <p>&copy; Gtk Pathfinder - родрооро┐ро┤рпНроиро╛роЯрпБ рооро╛рогро╡ро░рпНроХро│рпБроХрпНроХро╛рой ро╡ро┤ро┐роХро╛роЯрпНроЯро┐</p>
        </footer>
    </div>
    
    <button id="chatbot-toggle">ЁЯТмAsk</button>
    <div id="chatbot-box">
        <div id="chatbot-header">AI Career Assistant</div>
        <div id="chatbot-messages">
            <div class="message bot-message welcome-box" id="initial-bot-message"></div>
        </div>
        <div id="chatbot-input-container">
            <input type="text" id="chatbot-input" placeholder="роЙроЩрпНроХро│рпН роХрпЗро│рпНро╡ро┐ропрпИ роЗроЩрпНроХрпЗ родроЯрпНроЯроЪрпНроЪрпБ роЪрпЖропрпНропро╡рпБроорпН..." onkeydown="handleChatbotInput(event)">
            <button id="chatbot-send" onclick="sendMessage()">тЦ╢</button>
        </div>
    </div>


    <script>
        // --- A. Language Data Dictionary (Expanded for new elements) ---
        const translations = {
            'en': {
                'page-title': 'Gtk Pathfinder - Career Guidance TN',
                'overlay-title': 'GTK Career Guide',
                'welcome-message': 'Interactive guide to help Tamil Nadu students choose their best future.',
                'start-button': 'START',
                'header-title': 'Shape Your Future - Pathfinder',
                'header-subtitle': 'Career Guidance for Students of Class 9 to 12',
                'mot-heading': 'Explore Your Potential!',
                'mot-quote': '"The future belongs to those who believe in the beauty of their dreams." - Eleanor Roosevelt',
                'quiz-title': 'Career Interest Quiz',
                'quiz-desc': '10 quick questions to discover your path.',
                'q1': '1. Do you enjoy solving complex math problems?',
                'q1-opt1': 'Yes', 'q1-opt2': 'No',
                'q2': '2. Are you interested in writing stories, painting, or creating music?',
                'q2-opt1': 'Yes', 'q2-opt2': 'No',
                'q3': '3. Are you interested in analyzing market trends, and managing money and finance?',
                'q3-opt1': 'Yes', 'q3-opt2': 'No',
                'submit-btn': 'See Results',
                'results-heading': 'Your Recommended Path',
                'resources-title': 'Key Resources & Links',
                'admissions-title': 'Admissions Guide',
                'admissions-content': 'Application forms and schedules for entrance exams like TNEA, NEET, JEE are available here.',
                'admissions-link': 'Learn More',
                'scholarship-title': 'Scholarship Opportunities',
                'scholarship-content': 'Links for First Graduate Scholarship, educational loan schemes.',
                'scholarship-link': 'Apply Now',
                'stream-sci-math': 'Science/Engineering (B.E./B.Tech/B.Sc)',
                'stream-arts-hum': 'Arts & Humanities (B.A./B.Sc/Law)',
                'stream-commerce': 'Commerce/Finance (B.Com/CA/BBA)',
                'suggested-stream': 'Take the assessment above',
                'initial-bot-message': 'Hello! TNEA, TNPSC, courses, medical admissions - ask me anything. Use the quiz to discover your stream!',
                'chatbot-header': 'AI Career Assistant',
                'chatbot-input-placeholder': 'Type your question here...'
            },
            'ta': {
                'page-title': 'роЙроЩрпНроХро│рпН роОродро┐ро░рпНроХро╛ро▓родрпНродрпИ ро╡роЯро┐ро╡роорпИроХрпНроХро╡рпБроорпН - Gtk Pathfinder',
                'overlay-title': 'GTK родрпКро┤ро┐ро▓рпН ро╡ро┤ро┐роХро╛роЯрпНроЯро┐',
                'welcome-message': 'родрооро┐ро┤рпНроиро╛роЯрпБ рооро╛рогро╡ро░рпНроХро│рпН родроЩрпНроХро│рпН роЪро┐ро▒роирпНрод роОродро┐ро░рпНроХро╛ро▓родрпНродрпИродрпН родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХ роЙродро╡рпБроорпН роКроЯро╛роЯрпБроорпН ро╡ро┤ро┐роХро╛роЯрпНроЯро┐.',
                'start-button': 'роЖро░роорпНрокро┐роХрпНроХро╡рпБроорпН',
                'header-title': 'роЙроЩрпНроХро│рпН роОродро┐ро░рпНроХро╛ро▓родрпНродрпИ ро╡роЯро┐ро╡роорпИроХрпНроХро╡рпБроорпН - Pathfinder',
                'header-subtitle': '9 роорпБродро▓рпН 12 роЖроорпН ро╡роХрпБрокрпНрокрпБ рооро╛рогро╡ро░рпНроХро│рпБроХрпНроХро╛рой родрпКро┤ро┐ро▓рпН ро╡ро┤ро┐роХро╛роЯрпНроЯро┐',
                'mot-heading': 'роЙроЩрпНроХро│рпН родро┐ро▒ройрпИ роЖро░ро╛ропрпБроЩрпНроХро│рпН!',
                'mot-quote': '"роОродро┐ро░рпНроХро╛ро▓роорпН роОройрпНрокродрпБ, роЕро╡ро░рпНроХро│ро┐ройрпН роХройро╡рпБроХро│ро┐ройрпН роЕро┤роХрпИ роироорпНрокрпБрокро╡ро░рпНроХро│рпБроХрпНроХрпБроЪрпН роЪрпКроирпНродрооро╛ройродрпБ." - роОро▓ро┐ройрпЛро░рпН ро░рпВро╕рпНро╡рпЖро▓рпНроЯрпН',
                'quiz-title': 'родрпКро┤ро┐ро▓рпН роЖро░рпНро╡роорпН ро╡ро┐ройро╛роЯро┐ ро╡ро┐ройро╛',
                'quiz-desc': 'роЙроЩрпНроХро│рпН рокро╛родрпИропрпИроХрпН роХрогрпНроЯро▒ро┐роп 10 ро╡ро┐ро░рпИро╡ро╛рой роХрпЗро│рпНро╡ро┐роХро│рпН.',
                'q1': '1. роЪро┐роХрпНроХро▓ро╛рой роХрогро┐родрокрпН рокро┐ро░роЪрпНроЪройрпИроХро│рпИродрпН родрпАро░рпНрокрпНрокродро┐ро▓рпН роирпАроЩрпНроХро│рпН роороХро┐ро┤рпНроЪрпНроЪро┐ роЕроЯрпИроХро┐ро▒рпАро░рпНроХро│ро╛?',
                'q1-opt1': 'роЖроорпН', 'q1-opt2': 'роЗро▓рпНро▓рпИ',
                'q2': '2. роХродрпИ роОро┤рпБродрпБро╡родрпБ, роУро╡ро┐ропроорпН ро╡ро░рпИро╡родрпБ роЕро▓рпНро▓родрпБ роЗроЪрпИ роЙро░рпБро╡ро╛роХрпНроХрпБро╡родро┐ро▓рпН роирпАроЩрпНроХро│рпН роЖро░рпНро╡роорпН роЙро│рпНро│ро╡ро░ро╛?',
                'q2-opt1': 'роЖроорпН', 'q2-opt2': 'роЗро▓рпНро▓рпИ',
                'q3': '3. роЪроирпНродрпИ рокрпЛроХрпНроХрпБроХро│рпИрокрпН рокро▒рпНро▒ро┐ рокроХрпБрокрпНрокро╛ропрпНро╡рпБ роЪрпЖропрпНро╡родро┐ро▓рпБроорпН, рокрогроорпН рооро▒рпНро▒рпБроорпН роиро┐родро┐ роорпЗро▓ро╛рогрпНроорпИропро┐ро▓рпБроорпН роирпАроЩрпНроХро│рпН роЖро░рпНро╡роорпН роЙро│рпНро│ро╡ро░ро╛?',
                'q3-opt1': 'роЖроорпН', 'q3-opt2': 'роЗро▓рпНро▓рпИ',
                'submit-btn': 'роорпБроЯро┐ро╡рпБроХро│рпИрокрпН рокро╛ро░рпНроХрпНроХро╡рпБроорпН',
                'results-heading': 'роЙроЩрпНроХро│рпН рокро░ро┐роирпНродрпБро░рпИроХрпНроХрокрпНрокроЯрпНроЯ рокро╛родрпИ',
                'resources-title': 'роорпБроХрпНроХро┐роп роЖродро╛ро░роЩрпНроХро│рпН рооро▒рпНро▒рпБроорпН роЗрогрпИрокрпНрокрпБроХро│рпН',
                'admissions-title': 'роЪрпЗро░рпНроХрпНроХрпИ ро╡ро┤ро┐роХро╛роЯрпНроЯро┐',
                'admissions-content': 'TNEA, NEET, JEE рокрпЛройрпНро▒ роирпБро┤рпИро╡рпБродрпН родрпЗро░рпНро╡рпБроХро│рпБроХрпНроХро╛рой ро╡ро┐рогрпНрогрокрпНрокрокрпН рокроЯро┐ро╡роЩрпНроХро│рпН рооро▒рпНро▒рпБроорпН роХро╛ро▓ роЕроЯрпНроЯро╡рогрпИроХро│рпН роЗроЩрпНроХрпЗ роХро┐роЯрпИроХрпНроХрпБроорпН.',
                'admissions-link': 'роорпЗро▓рпБроорпН роЕро▒ро┐роХ',
                'scholarship-title': 'роЙродро╡ро┐родрпНродрпКроХрпИ ро╡ро╛ропрпНрокрпНрокрпБроХро│рпН',
                'scholarship-content': 'роорпБродро▓рпН рокроЯрпНроЯродро╛ро░ро┐ роЙродро╡ро┐родрпНродрпКроХрпИ, роХро▓рпНро╡ро┐ роХроЯройрпН родро┐роЯрпНроЯроЩрпНроХро│рпБроХрпНроХро╛рой роЗрогрпИрокрпНрокрпБроХро│рпН.',
                'scholarship-link': 'ро╡ро┐рогрпНрогрокрпНрокро┐роХрпНроХро╡рпБроорпН',
                'stream-sci-math': 'роЕро▒ро┐ро╡ро┐ропро▓рпН/рокрпКро▒ро┐ропро┐ропро▓рпН (B.E./B.Tech/B.Sc)',
                'stream-arts-hum': 'роХро▓рпИ рооро▒рпНро▒рпБроорпН рооройро┐родроирпЗропроорпН (B.A./B.Sc/роЪроЯрпНроЯроорпН)',
                'stream-commerce': 'ро╡ро░рпНродрпНродроХроорпН/роиро┐родро┐ (B.Com/CA/BBA)',
                'suggested-stream': 'роЙроЩрпНроХро│рпН роиро╛роЯрпНроЯродрпНродрпИ роородро┐рокрпНрокро┐роЯрпБроЩрпНроХро│рпН (роорпЗро▓рпЗ роЙро│рпНро│ родрпЗро░рпНро╡рпИ роОроЯрпБроЩрпНроХро│рпН)',
                'initial-bot-message': 'ро╡рогроХрпНроХроорпН! ЁЯСЛ TNEA, TNPSC, рокроЯро┐рокрпНрокрпБроХро│рпН, рооро░рпБродрпНродрпБро╡роЪрпН роЪрпЗро░рпНроХрпНроХрпИ рокро▒рпНро▒ро┐ роХрпЗро│рпБроЩрпНроХро│рпН. роорпЗро▓рпЗ роЙро│рпНро│ ро╡ро┐ройро╛роЯро┐ ро╡ро┐ройро╛ роорпВро▓роорпН роЙроЩрпНроХро│рпБроХрпНроХрпБ роПро▒рпНро▒ родрпБро▒рпИропрпИ роЕро▒ро┐ропро▓ро╛роорпН.',
                'chatbot-header': 'AI родрпКро┤ро┐ро▓рпН ро╡ро┤ро┐роХро╛роЯрпНроЯро┐',
                'chatbot-input-placeholder': 'роЙроЩрпНроХро│рпН роХрпЗро│рпНро╡ро┐ропрпИ роЗроЩрпНроХрпЗ родроЯрпНроЯроЪрпНроЪрпБ роЪрпЖропрпНропро╡рпБроорпН...'
            }
        };

        let currentLang = 'ta'; 

        // --- B. Start Application Function ---
        function startApp() {
            document.getElementById('start-overlay').style.display = 'none';
            document.getElementById('app-content').style.display = 'block';
            document.body.style.overflow = 'auto'; 
        }

        // --- C. Language Switching Function (Improved) ---
        function setLanguage(lang) {
            currentLang = lang;
            const t = translations[lang];

            // Set HTML language attribute for better screen reader/browser support
            document.documentElement.lang = lang; 

            // 1. Update standard text elements by ID
            for (const key in t) {
                const element = document.getElementById(key);
                if (element && key.includes('-opt')) { // Handle option text separately
                     // Option text is wrapped in a <span> inside the <label>
                    const spanElement = document.getElementById(key);
                    if (spanElement) spanElement.textContent = t[key];
                } else if (element) {
                    element.textContent = t[key];
                }
            }

            // 2. Update placeholders and chat elements
            document.getElementById('chatbot-input').placeholder = t['chatbot-input-placeholder'];
            document.getElementById('chatbot-header').textContent = t['chatbot-header'];
            document.getElementById('initial-bot-message').textContent = t['initial-bot-message'];
            document.getElementById('start-button').textContent = `${t['start-button']} (${lang === 'ta' ? 'START' : 'роЖро░роорпНрокро┐роХрпНроХро╡рпБроорпН'})`;
            document.getElementById('overlay-title').textContent = t['overlay-title'];

            // 3. Update the stream text if results are already shown
            const streamDiv = document.getElementById('suggested-stream');
            if (streamDiv.dataset.stream) {
                displayResults(streamDiv.dataset.stream);
            }
        }

        // Set initial language and state on load
        document.addEventListener('DOMContentLoaded', () => {
            setLanguage(currentLang);
            document.getElementById('app-content').style.display = 'none'; // Ensure main content is hidden initially
            document.body.style.overflow = 'hidden'; // Prevent scrolling on start page
        });


        // --- D. Quiz Logic Function ---
        function submitQuiz() {
            const form = document.getElementById('aptitude-quiz');
            const quizData = new FormData(form);
            const answers = { 'sci-math': 0, 'arts-hum': 0, 'commerce': 0 };

            // Check if all required questions are answered
            let allAnswered = true;
            for (let i = 1; i <= 3; i++) { // Assuming 3 questions for simplicity
                if (!quizData.get('q' + i)) {
                    allAnswered = false;
                    break;
                }
            }

            if (!allAnswered) {
                alert(currentLang === 'ta' ? 'роЕройрпИродрпНродрпБ роХрпЗро│рпНро╡ро┐роХро│рпБроХрпНроХрпБроорпН рокродро┐ро▓ро│ро┐роХрпНроХро╡рпБроорпН.' : 'Please answer all questions.');
                return;
            }

            // Scoring Mechanism (Corrected to handle all selected values)
            for (const [name, value] of quizData.entries()) {
                if (answers.hasOwnProperty(value)) {
                    answers[value]++;
                }
            }

            // Determine the highest score
            let maxScore = -1;
            let suggestedStream = 'arts-hum'; // Default stream

            for (const stream in answers) {
                if (answers[stream] > maxScore) {
                    maxScore = answers[stream];
                    suggestedStream = stream;
                }
            }
            
            displayResults(suggestedStream);
            document.getElementById('results-section').scrollIntoView({ behavior: 'smooth' });
        }

        // --- E. Dynamic Results & Resources Display ---
        function displayResults(streamKey) {
            const resultsDiv = document.getElementById('suggested-stream');
            const linksList = document.getElementById('resource-links');
            const t = translations[currentLang];
            
            const streamNameKey = 'stream-' + streamKey;
            resultsDiv.textContent = t[streamNameKey] || streamKey;
            resultsDiv.dataset.stream = streamKey; 

            linksList.innerHTML = ''; 

            let resources = [];
            let admissionsLink = '#'; 
            let scholarshipLink = '#'; 

            if (streamKey === 'sci-math') { 
                resources = [
                    { text: 'TNEA Counselling Official Website (Engineering)', href: 'https://www.tneaonline.org/' },
                    { text: 'NEET Official Site (Medical/Health Science)', href: 'https://neet.nta.nic.in/' },
                    { text: 'Tamil Nadu BSc Agriculture Admissions', href: 'https://tnau.ac.in/' }
                ];
                admissionsLink = 'https://www.tneaonline.org/';
                scholarshipLink = 'https://www.tnesc.in/';
            } else if (streamKey === 'commerce') { 
                resources = [
                    { text: 'The Institute of Chartered Accountants of India (ICAI)', href: 'https://www.icai.org/' },
                    { text: 'TANSCHE Official Website', href: 'https://tngasa.in/' },
                    { text: 'National Stock Exchange (NSE) Courses', href: '#' }
                ];
                admissionsLink = 'https://tngasa.in/';
                scholarshipLink = 'https://www.tnesc.in/';
            } else if (streamKey === 'arts-hum') { 
                 resources = [
                    { text: 'Tamil Nadu Dr. Ambedkar Law University Admissions', href: 'https://tndalu.ac.in/' },
                    { text: 'UPSC/TNPSC Exam Guidance Resources', href: '#' },
                    { text: 'List of Top Arts & Science Colleges in Tamil Nadu', href: 'https://tngasa.in/' }
                ];
                admissionsLink = 'https://tndalu.ac.in/';
                scholarshipLink = 'https://www.tnesc.in/';
            }
            
            document.getElementById('admissions-link').href = admissionsLink;
            document.getElementById('scholarship-link').href = scholarshipLink;

            resources.forEach(res => {
                const listItem = document.createElement('li');
                const link = document.createElement('a');
                link.href = res.href;
                link.target = "_blank";
                link.textContent = res.text;
                listItem.appendChild(link);
                linksList.appendChild(listItem);
            });
        }


        // --- F. Chatbot Logic (Rule-Based AI) ---

        const chatbotToggle = document.getElementById('chatbot-toggle');
        const chatbotBox = document.getElementById('chatbot-box');
        const chatbotMessages = document.getElementById('chatbot-messages');
        const chatbotInput = document.getElementById('chatbot-input');

        chatbotToggle.onclick = () => {
            const isVisible = chatbotBox.style.display === 'flex';
            chatbotBox.style.display = isVisible ? 'none' : 'flex';
            chatbotToggle.textContent = isVisible ? 'ЁЯТм' : 'тЬЦ';
        };

        function addMessage(text, sender, isWelcome = false) {
            const messageElement = document.createElement('div');
            messageElement.classList.add('message', sender === 'user' ? 'user-message' : 'bot-message');
            if (isWelcome) {
                messageElement.classList.add('welcome-box');
                messageElement.id = 'initial-bot-message';
            }
            messageElement.textContent = text;
            chatbotMessages.appendChild(messageElement);
            chatbotMessages.scrollTop = chatbotMessages.scrollHeight; 
        }

        function handleChatbotInput(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        function sendMessage() {
            const message = chatbotInput.value.trim();
            if (message === '') return;

            addMessage(message, 'user');
            chatbotInput.value = '';

            setTimeout(() => {
                const response = generateAIResponse(message);
                addMessage(response, 'bot');
            }, 1000); 
        }

        // The core of the "Free Open Source AI" (Rule-Based Logic)
        function generateAIResponse(userInput) {
            const inputLower = userInput.toLowerCase();
            const lang = currentLang;

            if (inputLower.includes('engineering') || inputLower.includes('рокрпКро▒ро┐ропро┐ропро▓рпН') || inputLower.includes('tnea')) {
                return lang === 'ta' 
                    ? `рокрпКро▒ро┐ропро┐ропро▓рпН рокроЯро┐рокрпНрокрпБроХро│рпБроХрпНроХрпБ (B.E./B.Tech) TNEA (родрооро┐ро┤рпНроиро╛роЯрпБ рокрпКро▒ро┐ропро┐ропро▓рпН роЪрпЗро░рпНроХрпНроХрпИ) роорпВро▓роорпН роЪрпЗро░рпНроХрпНроХрпИ рокрпЖро▒ро▓ро╛роорпН. роЗроирпНрод роЖрогрпНроЯрпБроХрпНроХро╛рой ро╡ро┐рогрпНрогрокрпНрокродрпН родроХро╡ро▓рпНроХро│рпБроХрпНроХрпБ роЕродро┐роХро╛ро░рокрпНрокрпВро░рпНро╡ TNEA роЗрогрпИропродро│родрпНродрпИрокрпН рокро╛ро░рпНроХрпНроХро╡рпБроорпН.`
                    : `For Engineering (B.E./B.Tech), admission is done through TNEA (Tamil Nadu Engineering Admissions). Please check the official TNEA website for this year's application details.`;
            }
            
            if (inputLower.includes('neet') || inputLower.includes('medical') || inputLower.includes('рооро░рпБродрпНродрпБро╡роорпН') || inputLower.includes('mbbs')) {
                return lang === 'ta' 
                    ? `рооро░рпБродрпНродрпБро╡рокрпН рокроЯро┐рокрпНрокрпБроХро│рпБроХрпНроХрпБ (MBBS/BDS) роХроЯрпНроЯро╛ропроорпН NEET родрпЗро░рпНро╡ро┐ро▓рпН родрпЗро░рпНроЪрпНроЪро┐ рокрпЖро▒ ро╡рпЗрогрпНроЯрпБроорпН. родрооро┐ро┤рпНроиро╛роЯрпБ роЕро░роЪрпБ рооро░рпБродрпНродрпБро╡роХрпН роХро▓рпНро▓рпВро░ро┐роХро│рпБроХрпНроХрпБ, рооро╛роиро┐ро▓ роЕро│ро╡ро┐ро▓рпН роирпАроЯрпН родро░ро╡ро░ро┐роЪрпИрокрпН рокроЯрпНроЯро┐ропро▓ро┐ройрпН роЕроЯро┐рокрпНрокроЯрпИропро┐ро▓рпН роХро▓роирпНродро╛ропрпНро╡рпБ роироЯроХрпНроХрпБроорпН.`
                    : `For Medical courses (MBBS/BDS), clearing the NEET exam is mandatory. For TN Government Medical Colleges, counseling is conducted based on the state NEET merit list.`;
            }

            if (inputLower.includes('commerce') || inputLower.includes('b.com') || inputLower.includes('ро╡ро░рпНродрпНродроХроорпН') || inputLower.includes('ca')) {
                return lang === 'ta'
                    ? `B.Com, BBA рокрпЛройрпНро▒ ро╡ро░рпНродрпНродроХрокрпН рокроЯро┐рокрпНрокрпБроХро│рпБроХрпНроХрпБ, рокрпЖро░рпБроорпНрокро╛ро▓ро╛рой роХро▓рпНро▓рпВро░ро┐роХро│рпН 12роЖроорпН ро╡роХрпБрокрпНрокрпБ роородро┐рокрпНрокрпЖрогрпНроХро│рпИ роЕроЯро┐рокрпНрокроЯрпИропро╛роХроХрпН роХрпКрогрпНроЯрпЗ роЪрпЗро░рпНроХрпНроХрпИ роироЯродрпНродрпБроХро┐ройрпНро▒рой. CA (рокроЯрпНроЯропроХрпН роХрогроХрпНроХро╛ро│ро░рпН) рокроЯро┐рокрпНрокрпИ 12роЖроорпН ро╡роХрпБрокрпНрокро┐ро▒рпНроХрпБрокрпН рокро┐ро▒роХрпБ родрпКроЯроЩрпНроХро▓ро╛роорпН.`
                    : `For Commerce courses like B.Com and BBA, most colleges use 12th board marks for admission. You can start the CA (Chartered Accountant) foundation course after completing 12th grade.`;
            }
            
            if (inputLower.includes('tnpsc') || inputLower.includes('govt job') || inputLower.includes('роЕро░роЪрпБрокрпН рокрогро┐')) {
                return lang === 'ta'
                    ? `TNPSC (родрооро┐ро┤рпНроиро╛роЯрпБ роЕро░роЪрпБрокрпН рокрогро┐ропро╛ро│ро░рпН родрпЗро░рпНро╡ро╛рогрпИропроорпН) родрпЗро░рпНро╡рпБроХро│рпН, роХрпБро░рпВрокрпН 1, 2, 4 роОрой рокро▓ рокро┐ро░ро┐ро╡рпБроХро│рпИроХрпН роХрпКрогрпНроЯрпБро│рпНро│рой. рокрпЛроЯрпНроЯро┐родрпН родрпЗро░рпНро╡рпБроХро│рпБроХрпНроХрпБ рокроЯрпНроЯрокрпНрокроЯро┐рокрпНрокрпБ родрпЗро╡рпИрокрпНрокроЯрпБроХро┐ро▒родрпБ. роЖройро╛ро▓рпН роХрпБро░рпВрокрпН 4-роХрпНроХрпБ 10роЖроорпН ро╡роХрпБрокрпНрокрпБ родроХрпБродро┐ропрпЗ рокрпЛродрпБрооро╛ройродрпБ.`
                    : `TNPSC (Tamil Nadu Public Service Commission) exams have various groups like Group 1, 2, and 4. A degree is required for most competitive exams, but Group 4 requires only 10th grade qualification.`;
            }
            
            if (inputLower.includes('scholarship') || inputLower.includes('роЙродро╡ро┐родрпНродрпКроХрпИ')) {
                return lang === 'ta' 
                    ? `родрооро┐ро┤рпНроиро╛роЯрпНроЯро┐ро▓рпН роорпБродро▓рпН рокроЯрпНроЯродро╛ро░ро┐ роЙродро╡ро┐родрпНродрпКроХрпИ, роХро▓рпНро╡ро┐ роХроЯройрпН родро┐роЯрпНроЯроЩрпНроХро│рпН рооро▒рпНро▒рпБроорпН рокро┐ро▒рпНрокроЯрпБродрпНродрокрпНрокроЯрпНроЯрпЛро░рпН/родро╛ро┤рпНродрпНродрокрпНрокроЯрпНроЯрпЛро░рпН роиро▓родрпНродрпБро▒рпИ роЙродро╡ро┐родрпНродрпКроХрпИроХро│рпН роорпБроХрпНроХро┐ропроорпН. роорпЗро▓рпЗ роЙро│рпНро│ 'роЙродро╡ро┐родрпНродрпКроХрпИ ро╡ро╛ропрпНрокрпНрокрпБроХро│рпН' рокроХрпБродро┐ропро┐ро▓рпН роЗрогрпИрокрпНрокрпБроХро│рпИрокрпН рокро╛ро░рпНроХрпНроХро╡рпБроорпН.`
                    : `Key scholarships in Tamil Nadu include the First Graduate Scholarship, education loan schemes, and backward/scheduled caste welfare scholarships. Check the 'Scholarship Opportunities' section above for links.`;
            }

            if (inputLower.includes('thank') || inputLower.includes('роиройрпНро▒ро┐')) {
                return lang === 'ta' 
                    ? `роЙроЩрпНроХро│рпБроХрпНроХрпБ роЙродро╡ро┐ропродро┐ро▓рпН роороХро┐ро┤рпНроЪрпНроЪро┐! ро╡рпЗро▒рпБ роХрпЗро│рпНро╡ро┐роХро│рпН роЗро░рпБроирпНродро╛ро▓рпН роХрпЗро│рпБроЩрпНроХро│рпН роЕро▓рпНро▓родрпБ ро╡ро┐ройро╛роЯро┐ ро╡ро┐ройро╛ро╡рпИродрпН родрпКроЯро░ро▓ро╛роорпН.`
                    : `Happy to help! Feel free to ask more questions or proceed with the quiz.`;
            }

            return lang === 'ta'
                ? `роиро╛ройрпН роТро░рпБ роЕроЯро┐рокрпНрокроЯрпИ роорпЖройрпНрокрпКро░рпБро│рпН ро╡ро┤ро┐роХро╛роЯрпНроЯро┐. роирпАроЩрпНроХро│рпН роХрпЗроЯрпНроХрпБроорпН роХрпЗро│рпНро╡ро┐роХрпНроХрпБ роЪро░ро┐ропро╛рой рокродро┐ро▓рпН роЗро▓рпНро▓рпИ. родропро╡рпБроЪрпЖропрпНродрпБ 'рокрпКро▒ро┐ропро┐ропро▓рпН', 'рооро░рпБродрпНродрпБро╡роорпН', 'B.Com' роЕро▓рпНро▓родрпБ 'TNPSC' рокрпЛройрпНро▒ роорпБроХрпНроХро┐роп ро╡ро╛ро░рпНродрпНродрпИроХро│рпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роорпАрогрпНроЯрпБроорпН роорпБропро▒рпНроЪро┐роХрпНроХро╡рпБроорпН.`
                : `I am a basic rule-based guide. I don't have a specific answer for that. Please try again with keywords like 'Engineering', 'NEET', 'B.Com', or 'TNPSC'.`;
        }
    </script>

</body>
</html>
